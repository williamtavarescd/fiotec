{"ast":null,"code":"import api from '@/api/api';\nexport default {\n  name: 'DeleteStudents',\n  props: {\n    student: {\n      type: Object,\n      default: {}\n    },\n    dialogDeleteStudent: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    loading: false,\n    dialog: false,\n    name: ''\n  }),\n  computed: {},\n  watch: {\n    dialog() {\n      if (this.dialog === false) {\n        this.$emit('close');\n      }\n    },\n    student() {\n      if (this.student) {\n        this.name = student.name;\n      }\n    }\n  },\n  // created () {\n  // },\n\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n    async deleteStudentConfirm() {\n      this.loading = true;\n      try {\n        await api.deleteStudent(this.selectedStudent.id);\n        this.$emit('reload');\n        this.dialog = false;\n        this.loading = false;\n      } catch (e) {\n        this.loading = false;\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","name","props","student","type","Object","default","dialogDeleteStudent","Boolean","data","loading","dialog","computed","watch","$emit","methods","close","deleteStudentConfirm","deleteStudent","selectedStudent","id","e","console","log"],"sources":["/app/src/components/students/DeleteStudent.vue"],"sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialogDeleteStudent\"\n    max-width=\"400\"\n    persistent\n  >\n    <!-- <template v-slot:activator=\"{ props: activatorProps }\">\n      <v-btn v-bind=\"activatorProps\">\n        <v-icon\n          class=\"ml-4\"\n          size=\"small\"\n        >\n          mdi-delete\n        </v-icon>\n      </v-btn>\n    </template> -->\n    <v-card\n      prepend-icon=\"mdi-delete\"\n      title=\"Apagar Aluno\"\n    >\n      <template v-slot:text>\n        <v-progress-linear\n          v-if=\"loading\"\n          color=\"#008ABD\"\n          indeterminate\n        />\n        Tem certeza que deseja apagar o aluno {{ name }}\n      </template>\n      <template v-slot:actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          :disabled=\"loading\"\n          @click=\"close\"\n        >\n          Cancela\n        </v-btn>\n        <v-btn\n          :disabled=\"loading\"  \n          @click=\"deleteStudentConfirm\"\n        >\n          Salvar\n        </v-btn>\n      </template>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\n  import api from '@/api/api';\n  export default {\n  name: 'DeleteStudents',\n\n  props: {\n    student: {\n      type: Object,\n      default: {}\n    },\n    dialogDeleteStudent: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data: () => ({\n    loading: false,\n    dialog: false,\n    name: ''\n  }),\n\n  computed: {\n  },\n\n  watch: {\n    dialog () {\n      if (this.dialog === false) {\n        this.$emit('close')\n      }\n    },\n    student () {\n      if (this.student) {\n        this.name = student.name\n      }\n    }\n  },\n  // created () {\n  // },\n\n  methods: {\n    close () {\n      this.$emit('close')\n    },\n    async deleteStudentConfirm () {\n      this.loading = true\n      try {\n        await api.deleteStudent(this.selectedStudent.id)\n        this.$emit('reload')\n        this.dialog = false\n        this.loading = false\n      } catch (e) {\n        this.loading = false\n        console.log(e)\n      }\n    }\n  }\n}\n</script>"],"mappings":"AA+CE,OAAOA,GAAE,MAAO,WAAW;AAC3B,eAAe;EACfC,IAAI,EAAE,gBAAgB;EAEtBC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE,CAAC;IACZ,CAAC;IACDC,mBAAmB,EAAE;MACnBH,IAAI,EAAEI,OAAO;MACbF,OAAO,EAAE;IACX;EACF,CAAC;EAEDG,IAAI,EAAEA,CAAA,MAAO;IACXC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE,KAAK;IACbV,IAAI,EAAE;EACR,CAAC,CAAC;EAEFW,QAAQ,EAAE,CACV,CAAC;EAEDC,KAAK,EAAE;IACLF,MAAKA,CAAA,EAAK;MACR,IAAI,IAAI,CAACA,MAAK,KAAM,KAAK,EAAE;QACzB,IAAI,CAACG,KAAK,CAAC,OAAO;MACpB;IACF,CAAC;IACDX,OAAMA,CAAA,EAAK;MACT,IAAI,IAAI,CAACA,OAAO,EAAE;QAChB,IAAI,CAACF,IAAG,GAAIE,OAAO,CAACF,IAAG;MACzB;IACF;EACF,CAAC;EACD;EACA;;EAEAc,OAAO,EAAE;IACPC,KAAIA,CAAA,EAAK;MACP,IAAI,CAACF,KAAK,CAAC,OAAO;IACpB,CAAC;IACD,MAAMG,oBAAmBA,CAAA,EAAK;MAC5B,IAAI,CAACP,OAAM,GAAI,IAAG;MAClB,IAAI;QACF,MAAMV,GAAG,CAACkB,aAAa,CAAC,IAAI,CAACC,eAAe,CAACC,EAAE;QAC/C,IAAI,CAACN,KAAK,CAAC,QAAQ;QACnB,IAAI,CAACH,MAAK,GAAI,KAAI;QAClB,IAAI,CAACD,OAAM,GAAI,KAAI;MACrB,EAAE,OAAOW,CAAC,EAAE;QACV,IAAI,CAACX,OAAM,GAAI,KAAI;QACnBY,OAAO,CAACC,GAAG,CAACF,CAAC;MACf;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}