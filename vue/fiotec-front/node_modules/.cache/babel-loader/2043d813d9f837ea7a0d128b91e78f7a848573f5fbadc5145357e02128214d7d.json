{"ast":null,"code":"import api from '@/api/api';\nimport { useSnackBar } from '@/stores/snackBar.js';\nexport default {\n  name: 'NewSubject',\n  layout: 'Default',\n  data: () => ({\n    loading: false,\n    dialog: false,\n    name: ''\n  }),\n  computed: {\n    snackBar() {\n      return useSnackBar();\n    }\n  },\n  watch: {\n    dialog() {\n      if (this.dialog === false) {\n        this.name = '';\n      }\n    }\n  },\n  created() {},\n  methods: {\n    async save() {\n      this.loading = true;\n      const data = {\n        name: this.name\n      };\n      try {\n        await api.createSubject(data);\n        this.$emit('reload');\n        this.snackBar.increment({\n          show: true,\n          msg: 'Matéria criada com sucesso',\n          color: 'success'\n        });\n        this.dialog = false;\n        this.loading = false;\n      } catch (e) {\n        this.loading = false;\n        const feedback = e?.response?.data?.message ?? 'Ocorreu um erro, tente novamente mais tarde';\n        this.snackBar.increment({\n          show: true,\n          msg: feedback,\n          color: 'warning'\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","useSnackBar","name","layout","data","loading","dialog","computed","snackBar","watch","created","methods","save","createSubject","$emit","increment","show","msg","color","e","feedback","response","message"],"sources":["/app/src/components/subjects/NewSubject.vue"],"sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialog\"\n    max-width=\"400\"\n    persistent\n  >\n    <template v-slot:activator=\"{ props: activatorProps }\">\n      <v-btn v-bind=\"activatorProps\" color=\"#008ABD\">\n        Nova Matéria\n      </v-btn>\n    </template>\n    <v-card\n      prepend-icon=\"mdi-account-school\"\n      title=\"Novo Matéria\"\n    >\n      <template v-slot:text>\n        <v-progress-linear\n          v-if=\"loading\"\n          color=\"#008ABD\"\n          indeterminate\n        />\n        <v-text-field\n          v-model=\"name\"\n          label=\"Nome\"\n          variant=\"underlined\"\n          :disabled=\"loading\"\n        />\n      </template>\n      <template v-slot:actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          :disabled=\"loading\"\n          @click=\"dialog = false\"\n        >\n          Cancela\n        </v-btn>\n        <v-btn\n          :disabled=\"loading\"  \n          @click=\"save\"\n        >\n          Salvar\n        </v-btn>\n      </template>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nimport api from '@/api/api';\nimport { useSnackBar } from '@/stores/snackBar.js'\n\n  export default {\n    name: 'NewSubject',\n    layout: 'Default',\n\n  data: () => ({\n    loading: false,\n    dialog: false,\n    name: ''\n  }),\n  computed: {\n    snackBar() {\n      return useSnackBar()\n    }\n  },\n  watch: {\n    dialog () {\n      if (this.dialog === false) {\n        this.name = ''\n      }\n    }\n  },\n  created () {\n  },\n\n  methods: {\n    async save () {\n      this.loading = true\n      const data = {\n        name: this.name\n      }\n      try {\n        await api.createSubject(data)\n        this.$emit('reload')\n        this.snackBar.increment({show: true, msg: 'Matéria criada com sucesso', color: 'success'} )\n        this.dialog = false\n        this.loading =false\n      } catch (e) {\n        this.loading =false\n        const feedback = e?.response?.data?.message ?? 'Ocorreu um erro, tente novamente mais tarde'\n        this.snackBar.increment({show: true, msg: feedback, color: 'warning'} )\n      }\n    }\n  }\n}\n</script>"],"mappings":"AA+CA,OAAOA,GAAE,MAAO,WAAW;AAC3B,SAASC,WAAU,QAAS,sBAAqB;AAE/C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,MAAM,EAAE,SAAS;EAEnBC,IAAI,EAAEA,CAAA,MAAO;IACXC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE,KAAK;IACbJ,IAAI,EAAE;EACR,CAAC,CAAC;EACFK,QAAQ,EAAE;IACRC,QAAQA,CAAA,EAAG;MACT,OAAOP,WAAW,CAAC;IACrB;EACF,CAAC;EACDQ,KAAK,EAAE;IACLH,MAAKA,CAAA,EAAK;MACR,IAAI,IAAI,CAACA,MAAK,KAAM,KAAK,EAAE;QACzB,IAAI,CAACJ,IAAG,GAAI,EAAC;MACf;IACF;EACF,CAAC;EACDQ,OAAMA,CAAA,EAAK,CACX,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMC,IAAGA,CAAA,EAAK;MACZ,IAAI,CAACP,OAAM,GAAI,IAAG;MAClB,MAAMD,IAAG,GAAI;QACXF,IAAI,EAAE,IAAI,CAACA;MACb;MACA,IAAI;QACF,MAAMF,GAAG,CAACa,aAAa,CAACT,IAAI;QAC5B,IAAI,CAACU,KAAK,CAAC,QAAQ;QACnB,IAAI,CAACN,QAAQ,CAACO,SAAS,CAAC;UAACC,IAAI,EAAE,IAAI;UAAEC,GAAG,EAAE,4BAA4B;UAAEC,KAAK,EAAE;QAAS,CAAE;QAC1F,IAAI,CAACZ,MAAK,GAAI,KAAI;QAClB,IAAI,CAACD,OAAM,GAAG,KAAI;MACpB,EAAE,OAAOc,CAAC,EAAE;QACV,IAAI,CAACd,OAAM,GAAG,KAAI;QAClB,MAAMe,QAAO,GAAID,CAAC,EAAEE,QAAQ,EAAEjB,IAAI,EAAEkB,OAAM,IAAK,6CAA4C;QAC3F,IAAI,CAACd,QAAQ,CAACO,SAAS,CAAC;UAACC,IAAI,EAAE,IAAI;UAAEC,GAAG,EAAEG,QAAQ;UAAEF,KAAK,EAAE;QAAS,CAAE;MACxE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}