{"ast":null,"code":"import api from '@/api/api';\nexport default {\n  name: 'AddSubject',\n  props: {\n    schoolCourseId: {\n      type: Number,\n      default: null\n    }\n  },\n  setup(props) {\n    return {\n      props\n    };\n  },\n  data: () => ({\n    loading: false,\n    dialogAddSubject: false,\n    subjects: []\n  }),\n  computed: {},\n  watch: {},\n  async created() {\n    await this.listSubjects();\n  },\n  methods: {\n    close() {\n      this.dialogAddSubject = false;\n    },\n    async listSubjects() {\n      this.loading = true;\n      try {\n        this.subjects = await api.listSubjects();\n        this.availableSubjects();\n        this.loading = false;\n      } catch (e) {\n        this.loading = false;\n        console.log(e);\n      }\n    },\n    availableSubjects() {\n      // console.log(this.subjects)\n      console.log(this.subjectsCurrent);\n    },\n    async addSubject(subjectId) {\n      // console.log(subjectId)\n      this.loading = true;\n      const data = {\n        school_course_id: this.schoolCourseId,\n        subject_id: subjectId\n      };\n      try {\n        await api.createSchoolCourseSubject(data);\n        this.$emit('reload');\n        this.loading = false;\n        this.close();\n      } catch (e) {\n        this.loading = false;\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","name","props","schoolCourseId","type","Number","default","setup","data","loading","dialogAddSubject","subjects","computed","watch","created","listSubjects","methods","close","availableSubjects","e","console","log","subjectsCurrent","addSubject","subjectId","school_course_id","subject_id","createSchoolCourseSubject","$emit"],"sources":["/app/src/components/schoolCourses/AddSubject.vue"],"sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialogAddSubject\"\n    max-width=\"400\"\n  >\n    <template v-slot:activator=\"{ props: activatorProps }\">\n        <v-btn\n         v-bind=\"activatorProps\"\n          density=\"compact\"\n          icon=\"mdi-account-plus\"\n          variant=\"text\"\n          size=\"small\"\n        />\n    </template>\n    <v-card\n      prepend-icon=\"mdi-account-school\"\n      title=\"Adicionar Alunos\"\n    >\n      <template v-slot:text>\n        <v-list lines=\"subjects\" class=\"flex-grow-1\">\n          <v-list-item\n            v-for=\"subject in subjects\"\n            :key=\"subject.id\"\n            :title=\"subject.name\"\n          >\n            <template v-slot:append>\n              <v-btn\n                color=\"grey-lighten-1\"\n                icon=\"mdi-plus\"\n                variant=\"text\"\n                @click=\"addSubject(subject.id)\"\n              />\n            </template>\n          </v-list-item>\n        </v-list>\n      </template>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nimport api from '@/api/api';\n\n  export default {\n    name: 'AddSubject',\n\n    props: {\n      schoolCourseId: {\n        type: Number,\n        default: null\n      }\n    },\n    setup(props) {\n      return { props }\n    },\n  data: () => ({\n    loading: false,\n    dialogAddSubject: false,\n    subjects: []\n  }),\n  computed: {\n  },\n  watch: {\n  },\n  async created () {\n    await this.listSubjects()\n  },\n\n  methods: {\n    close () {\n      this.dialogAddSubject = false\n    },\n\n    async listSubjects () {\n      this.loading = true\n      try {\n        this.subjects = await api.listSubjects()\n        this.availableSubjects()\n        this.loading = false\n      } catch (e) {\n        this.loading = false\n        console.log(e)\n      }\n    },\n\n    availableSubjects () {\n      // console.log(this.subjects)\n      console.log(this.subjectsCurrent)\n\n    },\n\n    async addSubject (subjectId) {\n      // console.log(subjectId)\n      this.loading = true\n      const data = {\n        school_course_id: this.schoolCourseId,\n        subject_id: subjectId\n      }\n      try {\n        await api.createSchoolCourseSubject(data)\n        this.$emit('reload')\n        this.loading = false\n        this.close()\n      } catch (e) {\n        this.loading = false\n        console.log(e)\n      }\n    }\n  }\n}\n</script>"],"mappings":"AAwCA,OAAOA,GAAE,MAAO,WAAW;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAElBC,KAAK,EAAE;IACLC,cAAc,EAAE;MACdC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAKA,CAACL,KAAK,EAAE;IACX,OAAO;MAAEA;IAAM;EACjB,CAAC;EACHM,IAAI,EAAEA,CAAA,MAAO;IACXC,OAAO,EAAE,KAAK;IACdC,gBAAgB,EAAE,KAAK;IACvBC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACFC,QAAQ,EAAE,CACV,CAAC;EACDC,KAAK,EAAE,CACP,CAAC;EACD,MAAMC,OAAMA,CAAA,EAAK;IACf,MAAM,IAAI,CAACC,YAAY,CAAC;EAC1B,CAAC;EAEDC,OAAO,EAAE;IACPC,KAAIA,CAAA,EAAK;MACP,IAAI,CAACP,gBAAe,GAAI,KAAI;IAC9B,CAAC;IAED,MAAMK,YAAWA,CAAA,EAAK;MACpB,IAAI,CAACN,OAAM,GAAI,IAAG;MAClB,IAAI;QACF,IAAI,CAACE,QAAO,GAAI,MAAMX,GAAG,CAACe,YAAY,CAAC;QACvC,IAAI,CAACG,iBAAiB,CAAC;QACvB,IAAI,CAACT,OAAM,GAAI,KAAI;MACrB,EAAE,OAAOU,CAAC,EAAE;QACV,IAAI,CAACV,OAAM,GAAI,KAAI;QACnBW,OAAO,CAACC,GAAG,CAACF,CAAC;MACf;IACF,CAAC;IAEDD,iBAAgBA,CAAA,EAAK;MACnB;MACAE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,eAAe;IAElC,CAAC;IAED,MAAMC,UAASA,CAAGC,SAAS,EAAE;MAC3B;MACA,IAAI,CAACf,OAAM,GAAI,IAAG;MAClB,MAAMD,IAAG,GAAI;QACXiB,gBAAgB,EAAE,IAAI,CAACtB,cAAc;QACrCuB,UAAU,EAAEF;MACd;MACA,IAAI;QACF,MAAMxB,GAAG,CAAC2B,yBAAyB,CAACnB,IAAI;QACxC,IAAI,CAACoB,KAAK,CAAC,QAAQ;QACnB,IAAI,CAACnB,OAAM,GAAI,KAAI;QACnB,IAAI,CAACQ,KAAK,CAAC;MACb,EAAE,OAAOE,CAAC,EAAE;QACV,IAAI,CAACV,OAAM,GAAI,KAAI;QACnBW,OAAO,CAACC,GAAG,CAACF,CAAC;MACf;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}