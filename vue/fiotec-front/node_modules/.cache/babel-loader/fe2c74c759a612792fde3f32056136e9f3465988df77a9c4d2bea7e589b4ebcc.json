{"ast":null,"code":"import api from '@/api/api';\nimport { useSnackBar } from '@/stores/snackBar.js';\nexport default {\n  name: 'DeleteSchoolCourse',\n  props: {\n    schoolCourseId: {\n      type: Number,\n      default: null\n    },\n    schoolCourseName: {\n      type: String,\n      default: ''\n    },\n    dialogDeleteSchoolCourse: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    snackBar() {\n      return useSnackBar();\n    }\n  },\n  data: () => ({\n    loading: false,\n    name: ''\n  }),\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n    async deleteSchoolCourseConfirm() {\n      this.loading = true;\n      try {\n        await api.deleteSchoolCourse(this.schoolCourseId);\n        this.$emit('reload');\n        this.snackBar.increment({\n          show: true,\n          msg: 'Turma apagada com sucesso',\n          color: 'success'\n        });\n        this.loading = false;\n        this.$emit('close');\n      } catch (e) {\n        this.loading = false;\n        const feedback = e?.response?.data?.message ?? 'Ocorreu um erro, tente novamente mais tarde';\n        this.snackBar.increment({\n          show: true,\n          msg: feedback,\n          color: 'warning'\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","useSnackBar","name","props","schoolCourseId","type","Number","default","schoolCourseName","String","dialogDeleteSchoolCourse","Boolean","computed","snackBar","data","loading","methods","close","$emit","deleteSchoolCourseConfirm","deleteSchoolCourse","increment","show","msg","color","e","feedback","response","message"],"sources":["/app/src/components/schoolCourses/DeleteSchoolCourse.vue"],"sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialogDeleteSchoolCourse\"\n    max-width=\"500\"\n    persistent\n  >\n    <v-card\n      prepend-icon=\"mdi-delete\"\n      title=\"APAGAR TURMA\"\n    >\n      <template v-slot:text>\n        <v-progress-linear\n          v-if=\"loading\"\n          color=\"#008ABD\"\n          indeterminate\n        />\n        Tem certeza que deseja apagar a turma {{ schoolCourseName }} ?\n      </template>\n      <template v-slot:actions>\n        <v-spacer></v-spacer>\n        <v-btn\n          :disabled=\"loading\"\n          @click=\"close\"\n        >\n          Cancela\n        </v-btn>\n        <v-btn\n          :disabled=\"loading\"  \n          @click=\"deleteSchoolCourseConfirm\"\n        >\n          Apagar\n        </v-btn>\n      </template>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\n  import api from '@/api/api';\n  import { useSnackBar } from '@/stores/snackBar.js'\n\n  export default {\n  name: 'DeleteSchoolCourse',\n\n  props: {\n    schoolCourseId: {\n      type: Number,\n      default: null\n    },\n    schoolCourseName: {\n      type: String,\n      default: ''\n    },\n    dialogDeleteSchoolCourse: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    snackBar() {\n      return useSnackBar()\n    }\n  },\n\n  data: () => ({\n    loading: false,\n    name: ''\n  }),\n\n  methods: {\n    close () {\n      this.$emit('close')\n    },\n    async deleteSchoolCourseConfirm () {\n      this.loading = true\n      try {\n        await api.deleteSchoolCourse(this.schoolCourseId)\n        this.$emit('reload')\n        this.snackBar.increment({show: true, msg: 'Turma apagada com sucesso', color: 'success'} )\n        this.loading = false\n        this.$emit('close')\n      } catch (e) {\n        this.loading = false\n        const feedback = e?.response?.data?.message ?? 'Ocorreu um erro, tente novamente mais tarde'\n        this.snackBar.increment({show: true, msg: feedback, color: 'warning'} )\n      }\n    }\n  }\n}\n</script>"],"mappings":"AAqCE,OAAOA,GAAE,MAAO,WAAW;AAC3B,SAASC,WAAU,QAAS,sBAAqB;AAEjD,eAAe;EACfC,IAAI,EAAE,oBAAoB;EAE1BC,KAAK,EAAE;IACLC,cAAc,EAAE;MACdC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,gBAAgB,EAAE;MAChBH,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACDG,wBAAwB,EAAE;MACxBL,IAAI,EAAEM,OAAO;MACbJ,OAAO,EAAE;IACX;EACF,CAAC;EACDK,QAAQ,EAAE;IACRC,QAAQA,CAAA,EAAG;MACT,OAAOZ,WAAW,CAAC;IACrB;EACF,CAAC;EAEDa,IAAI,EAAEA,CAAA,MAAO;IACXC,OAAO,EAAE,KAAK;IACdb,IAAI,EAAE;EACR,CAAC,CAAC;EAEFc,OAAO,EAAE;IACPC,KAAIA,CAAA,EAAK;MACP,IAAI,CAACC,KAAK,CAAC,OAAO;IACpB,CAAC;IACD,MAAMC,yBAAwBA,CAAA,EAAK;MACjC,IAAI,CAACJ,OAAM,GAAI,IAAG;MAClB,IAAI;QACF,MAAMf,GAAG,CAACoB,kBAAkB,CAAC,IAAI,CAAChB,cAAc;QAChD,IAAI,CAACc,KAAK,CAAC,QAAQ;QACnB,IAAI,CAACL,QAAQ,CAACQ,SAAS,CAAC;UAACC,IAAI,EAAE,IAAI;UAAEC,GAAG,EAAE,2BAA2B;UAAEC,KAAK,EAAE;QAAS,CAAE;QACzF,IAAI,CAACT,OAAM,GAAI,KAAI;QACnB,IAAI,CAACG,KAAK,CAAC,OAAO;MACpB,EAAE,OAAOO,CAAC,EAAE;QACV,IAAI,CAACV,OAAM,GAAI,KAAI;QACnB,MAAMW,QAAO,GAAID,CAAC,EAAEE,QAAQ,EAAEb,IAAI,EAAEc,OAAM,IAAK,6CAA4C;QAC3F,IAAI,CAACf,QAAQ,CAACQ,SAAS,CAAC;UAACC,IAAI,EAAE,IAAI;UAAEC,GAAG,EAAEG,QAAQ;UAAEF,KAAK,EAAE;QAAS,CAAE;MACxE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}